import{_ as B,d as y,u as h,o as r,c as p,a as s,w as g,F as u,r as v,b as F,e as f,v as _,t as w,f as T}from"./index.08e9bf40.js";const V=F("Title "),$=["onUpdate:modelValue"],x=y({name:"BookForm",props:{id:String},setup(d){const o=d,i=h();console.log(`BF: picked id: ${o.id}`),typeof o.id!="undefined"&&console.log(`BF: picked book: ${JSON.stringify(i.getBookById(o.id))}`),console.log(`typeof id: ${typeof o.id}`);const e={id:0,isFinished:!1,title:"",authors:[],publisher:"",pages:0,progress:{type:"",progress:0,date:0,isFinished:!1},history:[]};if(typeof o.id!="undefined"){const l=i.getBookById(o.id);l&&Object.keys(l).map(t=>e[t]=l[t])}const c=["authors","publisher","pages"],a=()=>{console.log(`book: ${JSON.stringify(e)}`),typeof o.id!="undefined"?i.updateBook(e):i.addBook(e),f.push("/")},k=()=>{f.push("/")};return(l,t)=>(r(),p(u,null,[s("p",null,[V,g(s("input",{placeholder:"Book Title","onUpdate:modelValue":t[0]||(t[0]=n=>e.title=n)},null,512),[[_,e.title]])]),s("dl",null,[(r(),p(u,null,v(c,(n,m)=>(r(),p(u,{key:m},[s("dt",null,w(n)+":",1),s("dd",null,[g(s("input",{"onUpdate:modelValue":b=>e[n]=b},null,8,$),[[_,e[n]]])])],64))),64))]),s("button",{onClick:t[1]||(t[1]=n=>a())},"Save"),s("button",{onClick:t[2]||(t[2]=n=>k())},"Cancel")],64))}});var S=B(x,[["__scopeId","data-v-0663633b"]]);const D=y({name:"EditView",props:{id:String},setup(d){const o=d,i=h();console.log(`picked id: ${o.id}`);const e=()=>{i.addBook({id:0,isFinished:!1,title:"The Book 1",authors:["john"],publisher:"AB Books",pages:339,progress:{type:"page",progress:24,date:new Date(2022,4,18).getTime(),isFinished:!1},history:[{type:"%",progress:13,date:new Date(2022,4,3).getTime(),isFinished:!1}]}),i.addBook({id:0,isFinished:!1,title:"The Book 2",authors:["john","brown"],publisher:"AB Books",pages:0,progress:{type:"%",progress:42,date:new Date(2022,4,18).getTime(),isFinished:!1},history:[{type:"%",progress:13,date:new Date(2022,4,3).getTime(),isFinished:!1}]})};return(c,a)=>(r(),p("main",null,[s("button",{onClick:a[0]||(a[0]=k=>e())},"init book"),T(S,{id:d.id},null,8,["id"])]))}});var N=B(D,[["__scopeId","data-v-1998e0fd"]]);export{N as default};
